{"ast":null,"code":"import client from \"./client\";\nimport storage from \"../utils/storage\";\nimport { store, authLogout, authLogin } from \"../store\";\nexport const login = ({\n  remember,\n  ...credentials\n}) => client.login(credentials).then(auth => {\n  const {\n    id,\n    token\n  } = auth;\n  store.dispatch(authLogin(id));\n\n  if (remember) {\n    storage.set(\"auth\", token);\n  }\n\n  return id;\n});\nexport const logout = () => {\n  store.dispatch(authLogout());\n  client.logout().then(() => {\n    storage.remove(\"auth\");\n  });\n};","map":{"version":3,"sources":["/home/lsp-92/Proyectos/practica-react-avanzado/react-app/src/api/auth.js"],"names":["client","storage","store","authLogout","authLogin","login","remember","credentials","then","auth","id","token","dispatch","set","logout","remove"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,KAAT,EAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,UAA7C;AAEA,OAAO,MAAMC,KAAK,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAY,KAAGC;AAAf,CAAD,KACnBP,MAAM,CAACK,KAAP,CAAaE,WAAb,EAA0BC,IAA1B,CAAgCC,IAAD,IAAU;AACvC,QAAM;AAAEC,IAAAA,EAAF;AAAMC,IAAAA;AAAN,MAAgBF,IAAtB;AACAP,EAAAA,KAAK,CAACU,QAAN,CAAeR,SAAS,CAACM,EAAD,CAAxB;;AACA,MAAIJ,QAAJ,EAAc;AACZL,IAAAA,OAAO,CAACY,GAAR,CAAY,MAAZ,EAAoBF,KAApB;AACD;;AACD,SAAOD,EAAP;AACD,CAPD,CADK;AAUP,OAAO,MAAMI,MAAM,GAAG,MAAM;AAC1BZ,EAAAA,KAAK,CAACU,QAAN,CAAeT,UAAU,EAAzB;AACAH,EAAAA,MAAM,CAACc,MAAP,GAAgBN,IAAhB,CAAqB,MAAM;AACzBP,IAAAA,OAAO,CAACc,MAAR,CAAe,MAAf;AACD,GAFD;AAGD,CALM","sourcesContent":["import client from \"./client\";\nimport storage from \"../utils/storage\";\nimport { store, authLogout, authLogin } from \"../store\";\n\nexport const login = ({ remember, ...credentials }) =>\n  client.login(credentials).then((auth) => {\n    const { id, token } = auth;\n    store.dispatch(authLogin(id));\n    if (remember) {\n      storage.set(\"auth\", token);\n    }\n    return id;\n  });\n\nexport const logout = () => {\n  store.dispatch(authLogout());\n  client.logout().then(() => {\n    storage.remove(\"auth\");\n  });\n};\n"]},"metadata":{},"sourceType":"module"}