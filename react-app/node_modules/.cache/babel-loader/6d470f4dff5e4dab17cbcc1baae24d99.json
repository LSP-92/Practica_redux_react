{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/lsp-92/Proyectos/practica-react-avanzado/react-app/src/components/adverts/AdvertsPage/FiltersForm.js\";\nimport React from \"react\";\nimport T from \"prop-types\";\nimport { Button, Input, Slider, Radio, Row, Col } from \"antd\";\nimport { getAdverts, getTags } from \"../../../api/adverts\";\nimport TagsSelect from \"../TagsSelect\";\nimport FormField from \"../../shared/FormField\";\nimport { saleOptions, MIN_PRICE, MAX_PRICE } from \"../definitions\";\nimport styles from \"./FiltersForm.module.css\";\nexport const defaultFilters = {\n  name: \"\",\n  sale: saleOptions.all.value,\n  price: [],\n  tags: []\n};\n\nclass FiltersForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...this.props.initialFilters\n    };\n\n    this.handleNameChange = ev => this.setState({\n      name: ev.target.value\n    });\n\n    this.handlePriceChange = price => {\n      const [min, max] = price;\n\n      if (min === MIN_PRICE && max === MAX_PRICE) {\n        return this.setState({\n          price: []\n        });\n      }\n\n      this.setState({\n        price\n      });\n    };\n\n    this.handleSaleChange = ev => this.setState({\n      sale: ev.target.value\n    });\n\n    this.handleTagsChange = tags => this.setState({\n      tags\n    });\n\n    this.handleSubmit = ev => {\n      console.log(\"007\");\n      const {\n        onSubmit,\n        getAdverts\n      } = this.props;\n      getAdverts();\n      ev.preventDefault();\n      onSubmit(this.state);\n    };\n  }\n\n  render() {\n    console.log(this.state);\n    const {\n      name,\n      price,\n      tags,\n      sale\n    } = this.state;\n    const priceValue = price.length === 0 ? [MIN_PRICE, MAX_PRICE] : price;\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: styles.form,\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          span: 11,\n          children: [/*#__PURE__*/_jsxDEV(FormField, {\n            label: \"By name\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Name\",\n              onChange: this.handleNameChange,\n              value: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormField, {\n            label: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"By price\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  margin: \"0 5px\"\n                },\n                children: priceValue.join(\" - \")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true),\n            children: /*#__PURE__*/_jsxDEV(Slider, {\n              range: true,\n              defaultValue: priceValue,\n              min: MIN_PRICE,\n              max: MAX_PRICE,\n              onChange: this.handlePriceChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 11,\n          offset: 2,\n          children: [/*#__PURE__*/_jsxDEV(FormField, {\n            label: \"By tags\",\n            children: /*#__PURE__*/_jsxDEV(TagsSelect, {\n              onChange: this.handleTagsChange,\n              value: tags\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormField, {\n            label: \"By type\",\n            children: /*#__PURE__*/_jsxDEV(Radio.Group, {\n              options: Object.values(saleOptions),\n              onChange: this.handleSaleChange,\n              value: sale\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 24,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: styles.button,\n            type: \"primary\",\n            htmlType: \"submit\",\n            block: true,\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nFiltersForm.propTypes = {\n  initialFilters: T.shape({\n    name: T.string,\n    sale: T.oneOf(Object.keys(saleOptions)),\n    price: T.arrayOf(T.number),\n    tags: T.arrayOf(T.string)\n  }),\n  onSubmit: T.func.isRequired\n};\nFiltersForm.defaultProps = {\n  initialFilters: defaultFilters\n};\nexport default FiltersForm;","map":{"version":3,"sources":["/home/lsp-92/Proyectos/practica-react-avanzado/react-app/src/components/adverts/AdvertsPage/FiltersForm.js"],"names":["React","T","Button","Input","Slider","Radio","Row","Col","getAdverts","getTags","TagsSelect","FormField","saleOptions","MIN_PRICE","MAX_PRICE","styles","defaultFilters","name","sale","all","value","price","tags","FiltersForm","Component","state","props","initialFilters","handleNameChange","ev","setState","target","handlePriceChange","min","max","handleSaleChange","handleTagsChange","handleSubmit","console","log","onSubmit","preventDefault","render","priceValue","length","form","margin","join","Object","values","button","propTypes","shape","string","oneOf","keys","arrayOf","number","func","isRequired","defaultProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport T from \"prop-types\";\nimport { Button, Input, Slider, Radio, Row, Col } from \"antd\";\nimport { getAdverts, getTags } from \"../../../api/adverts\";\nimport TagsSelect from \"../TagsSelect\";\nimport FormField from \"../../shared/FormField\";\nimport { saleOptions, MIN_PRICE, MAX_PRICE } from \"../definitions\";\nimport styles from \"./FiltersForm.module.css\";\n\nexport const defaultFilters = {\n  name: \"\",\n  sale: saleOptions.all.value,\n  price: [],\n  tags: [],\n};\n\nclass FiltersForm extends React.Component {\n  state = {\n    ...this.props.initialFilters,\n  };\n\n  handleNameChange = (ev) => this.setState({ name: ev.target.value });\n  handlePriceChange = (price) => {\n    const [min, max] = price;\n    if (min === MIN_PRICE && max === MAX_PRICE) {\n      return this.setState({ price: [] });\n    }\n    this.setState({ price });\n  };\n  handleSaleChange = (ev) => this.setState({ sale: ev.target.value });\n  handleTagsChange = (tags) => this.setState({ tags });\n\n  handleSubmit = (ev) => {\n    console.log(\"007\");\n    const { onSubmit, getAdverts } = this.props;\n    getAdverts();\n    ev.preventDefault();\n    onSubmit(this.state);\n  };\n\n  render() {\n    console.log(this.state);\n    const { name, price, tags, sale } = this.state;\n    const priceValue = price.length === 0 ? [MIN_PRICE, MAX_PRICE] : price;\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <Row className={styles.form}>\n          <Col span={11}>\n            <FormField label=\"By name\">\n              <Input\n                placeholder=\"Name\"\n                onChange={this.handleNameChange}\n                value={name}\n              />\n            </FormField>\n            <FormField\n              label={\n                <>\n                  By price\n                  <strong style={{ margin: \"0 5px\" }}>\n                    {priceValue.join(\" - \")}\n                  </strong>\n                </>\n              }\n            >\n              <Slider\n                range\n                defaultValue={priceValue}\n                min={MIN_PRICE}\n                max={MAX_PRICE}\n                onChange={this.handlePriceChange}\n              />\n            </FormField>\n          </Col>\n          <Col span={11} offset={2}>\n            <FormField label=\"By tags\">\n              <TagsSelect onChange={this.handleTagsChange} value={tags} />\n            </FormField>\n            <FormField label=\"By type\">\n              <Radio.Group\n                options={Object.values(saleOptions)}\n                onChange={this.handleSaleChange}\n                value={sale}\n              />\n            </FormField>\n          </Col>\n          <Col span={24}>\n            <Button\n              className={styles.button}\n              type=\"primary\"\n              htmlType=\"submit\"\n              block\n            >\n              Search\n            </Button>\n          </Col>\n        </Row>\n      </form>\n    );\n  }\n}\n\nFiltersForm.propTypes = {\n  initialFilters: T.shape({\n    name: T.string,\n    sale: T.oneOf(Object.keys(saleOptions)),\n    price: T.arrayOf(T.number),\n    tags: T.arrayOf(T.string),\n  }),\n  onSubmit: T.func.isRequired,\n};\n\nFiltersForm.defaultProps = {\n  initialFilters: defaultFilters,\n};\n\nexport default FiltersForm;\n"]},"metadata":{},"sourceType":"module"}