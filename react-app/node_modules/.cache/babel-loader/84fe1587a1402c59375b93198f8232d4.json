{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/lsp-92/Proyectos/practica-react-avanzado/react-app/src/components/adverts/NewAdvertPage/NewAdvertPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport T from \"prop-types\";\nimport { Alert, Divider } from \"antd\";\nimport { store, newAdeverts } from \"../../../store\";\nimport { createAdvert } from \"../../../api/adverts\";\nimport Layout from \"../../layout\";\nimport NewAdvertForm from \"./NewAdvertForm\";\n\nconst NewAdvertPage = ({\n  history\n}) => {\n  _s();\n\n  const [state, setState] = useState({\n    error: null\n  });\n\n  const handleSubmit = advert => {\n    this.resetError();\n    createAdvert(advert).then(({\n      result: advert\n    }) => {\n      store.dispatch(newAdeverts(advert));\n      history.push(`/adverts/${advert._id}`);\n    }).catch(error => {\n      console.log(error);\n    }); //this.setState({ error }));\n  };\n\n  const resetError = () => setState({\n    error: null\n  });\n\n  const {\n    error\n  } = state;\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: \"New advert\",\n    children: [/*#__PURE__*/_jsxDEV(Divider, {\n      children: \"Create an advert\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewAdvertForm, {\n      onSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      afterClose: resetError,\n      closable: true,\n      message: error,\n      showIcon: true,\n      type: \"error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n/* class NewAdvertPage extends React.Component {\n  state = {\n    error: null,\n  };\n\n  handleSubmit = (advert) => {\n    const { history } = this.props;\n    this.resetError();\n    createAdvert(advert)\n      .then(({ result: advert }) => {\n        store.dispatch(newAdeverts(advert));\n        history.push(`/adverts/${advert._id}`);\n      })\n      .catch((error) => {\n        console.log(error);\n      }); //this.setState({ error }));\n  };\n\n  resetError = () => this.setState({ error: null });\n\n  render() {\n    const { error } = this.state;\n    return (\n      <Layout title=\"New advert\">\n        <Divider>Create an advert</Divider>\n        <NewAdvertForm onSubmit={this.handleSubmit} />\n        {error && (\n          <Alert\n            afterClose={this.resetError}\n            closable\n            message={error}\n            showIcon\n            type=\"error\"\n          />\n        )}\n      </Layout>\n    );\n  }\n}\n\nNewAdvertPage.propTypes = {\n  history: T.shape({ push: T.func.isRequired }).isRequired,\n}; */\n\n\n_s(NewAdvertPage, \"fBC6wneCJzQeOfHB7Vkqn6mJbOY=\");\n\n_c = NewAdvertPage;\nexport default NewAdvertPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewAdvertPage\");","map":{"version":3,"sources":["/home/lsp-92/Proyectos/practica-react-avanzado/react-app/src/components/adverts/NewAdvertPage/NewAdvertPage.js"],"names":["React","useState","T","Alert","Divider","store","newAdeverts","createAdvert","Layout","NewAdvertForm","NewAdvertPage","history","state","setState","error","handleSubmit","advert","resetError","then","result","dispatch","push","_id","catch","console","log"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,CAAP,MAAc,YAAd;AACA,SAASC,KAAT,EAAgBC,OAAhB,QAA+B,MAA/B;AACA,SAASC,KAAT,EAAgBC,WAAhB,QAAmC,gBAAnC;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,MAAMC,aAAa,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AAAA;;AACrC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC;AACjCa,IAAAA,KAAK,EAAE;AAD0B,GAAD,CAAlC;;AAIA,QAAMC,YAAY,GAAIC,MAAD,IAAY;AAC/B,SAAKC,UAAL;AACAV,IAAAA,YAAY,CAACS,MAAD,CAAZ,CACGE,IADH,CACQ,CAAC;AAAEC,MAAAA,MAAM,EAAEH;AAAV,KAAD,KAAwB;AAC5BX,MAAAA,KAAK,CAACe,QAAN,CAAed,WAAW,CAACU,MAAD,CAA1B;AACAL,MAAAA,OAAO,CAACU,IAAR,CAAc,YAAWL,MAAM,CAACM,GAAI,EAApC;AACD,KAJH,EAKGC,KALH,CAKUT,KAAD,IAAW;AAChBU,MAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ;AACD,KAPH,EAF+B,CASzB;AACP,GAVD;;AAYA,QAAMG,UAAU,GAAG,MAAMJ,QAAQ,CAAC;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAD,CAAjC;;AACA,QAAM;AAAEA,IAAAA;AAAF,MAAYF,KAAlB;AACA,sBACE,QAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,YAAd;AAAA,4BACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,aAAD;AAAe,MAAA,QAAQ,EAAEG;AAAzB;AAAA;AAAA;AAAA;AAAA,YAFF,EAGGD,KAAK,iBACJ,QAAC,KAAD;AACE,MAAA,UAAU,EAAEG,UADd;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,OAAO,EAAEH,KAHX;AAIE,MAAA,QAAQ,MAJV;AAKE,MAAA,IAAI,EAAC;AALP;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAeD,CAlCD;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;GA9EMJ,a;;KAAAA,a;AAgFN,eAAeA,aAAf","sourcesContent":["import React, { useState } from \"react\";\nimport T from \"prop-types\";\nimport { Alert, Divider } from \"antd\";\nimport { store, newAdeverts } from \"../../../store\";\nimport { createAdvert } from \"../../../api/adverts\";\nimport Layout from \"../../layout\";\nimport NewAdvertForm from \"./NewAdvertForm\";\n\nconst NewAdvertPage = ({ history }) => {\n  const [state, setState] = useState({\n    error: null,\n  });\n\n  const handleSubmit = (advert) => {\n    this.resetError();\n    createAdvert(advert)\n      .then(({ result: advert }) => {\n        store.dispatch(newAdeverts(advert));\n        history.push(`/adverts/${advert._id}`);\n      })\n      .catch((error) => {\n        console.log(error);\n      }); //this.setState({ error }));\n  };\n\n  const resetError = () => setState({ error: null });\n  const { error } = state;\n  return (\n    <Layout title=\"New advert\">\n      <Divider>Create an advert</Divider>\n      <NewAdvertForm onSubmit={handleSubmit} />\n      {error && (\n        <Alert\n          afterClose={resetError}\n          closable\n          message={error}\n          showIcon\n          type=\"error\"\n        />\n      )}\n    </Layout>\n  );\n};\n\n/* class NewAdvertPage extends React.Component {\n  state = {\n    error: null,\n  };\n\n  handleSubmit = (advert) => {\n    const { history } = this.props;\n    this.resetError();\n    createAdvert(advert)\n      .then(({ result: advert }) => {\n        store.dispatch(newAdeverts(advert));\n        history.push(`/adverts/${advert._id}`);\n      })\n      .catch((error) => {\n        console.log(error);\n      }); //this.setState({ error }));\n  };\n\n  resetError = () => this.setState({ error: null });\n\n  render() {\n    const { error } = this.state;\n    return (\n      <Layout title=\"New advert\">\n        <Divider>Create an advert</Divider>\n        <NewAdvertForm onSubmit={this.handleSubmit} />\n        {error && (\n          <Alert\n            afterClose={this.resetError}\n            closable\n            message={error}\n            showIcon\n            type=\"error\"\n          />\n        )}\n      </Layout>\n    );\n  }\n}\n\nNewAdvertPage.propTypes = {\n  history: T.shape({ push: T.func.isRequired }).isRequired,\n}; */\n\nexport default NewAdvertPage;\n"]},"metadata":{},"sourceType":"module"}