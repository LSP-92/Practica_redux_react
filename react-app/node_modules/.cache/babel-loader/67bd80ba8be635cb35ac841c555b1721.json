{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/lsp-92/Proyectos/practica-react-avanzado/react-app/src/components/adverts/AdvertPage/AdvertPage.js\";\nimport React from \"react\";\nimport T from \"prop-types\";\nimport { Redirect } from \"react-router-dom\";\nimport { Divider, Image, Typography, Statistic, Row, Col } from \"antd\";\nimport { store, delAdeverts } from \"../../../store\";\nimport { getAdvert, deleteAdvert } from \"../../../api/adverts\";\nimport Layout from \"../../layout\";\nimport { ConfirmationButton } from \"../../shared\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport placeholder from \"../../../assets/photo-placeholder.png\";\nimport Tags from \"../Tags\";\nimport { formatter } from \"../../../utils/numbers\";\nconst {\n  Title\n} = Typography;\n\nclass AdvertPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      advert: null,\n      error: null\n    };\n\n    this.getAdvertId = () => this.props.match.params.id;\n\n    this.handleDeleteClick = () => {\n      const {\n        history\n      } = this.props;\n      deleteAdvert(this.getAdvertId()).then(() => history.push(\"/\"));\n    };\n\n    this.getAdvert = async () => {\n      try {\n        const {\n          result\n        } = await getAdvert(this.getAdvertId());\n\n        if (!result) {\n          const error = {\n            message: \"Not found\"\n          };\n          throw error;\n        }\n\n        this.setState({\n          advert: result\n        });\n      } catch (error) {\n        this.setState({\n          error\n        });\n      }\n    };\n\n    this.renderAdvert = () => {\n      const {\n        advert,\n        error\n      } = this.state;\n\n      if (error) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/404\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 14\n        }, this);\n      }\n\n      if (!advert) {\n        return null;\n      }\n\n      const {\n        name,\n        price,\n        tags,\n        sale,\n        photoUrl\n      } = advert;\n      return /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          span: 24,\n          children: /*#__PURE__*/_jsxDEV(Title, {\n            level: 2,\n            children: [name, \" - \", sale ? \"Sell\" : \"Buy\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 12,\n          children: [/*#__PURE__*/_jsxDEV(Statistic, {\n            title: \"Price\",\n            value: price,\n            formatter: formatter\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 20\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginRight: 5\n              },\n              children: \"Tags\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Tags, {\n              tags: tags\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 12,\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: photoUrl,\n            alt: name,\n            width: 300,\n            height: 300,\n            fallback: placeholder\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ConfirmationButton, {\n          danger: true,\n          icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this),\n          confirmationProps: {\n            title: \"Delete advert?\",\n            content: \"Are you sure you want to delete this advert?\",\n            okText: \"Yes\",\n            cancelText: \"No\",\n            okButtonProps: {\n              danger: true\n            }\n          },\n          onConfirm: this.handleDeleteClick,\n          style: {\n            marginTop: 20\n          },\n          block: true,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this);\n    };\n  }\n\n  componentDidMount() {\n    this.getAdvert();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      title: \"Advert detail\",\n      children: [/*#__PURE__*/_jsxDEV(Divider, {\n        children: \"Detail of your advert\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), this.renderAdvert()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nAdvertPage.propTypes = {\n  match: T.shape({\n    params: T.shape({\n      id: T.string.isRequired\n    }).isRequired\n  }).isRequired\n};\nexport default AdvertPage;","map":{"version":3,"sources":["/home/lsp-92/Proyectos/practica-react-avanzado/react-app/src/components/adverts/AdvertPage/AdvertPage.js"],"names":["React","T","Redirect","Divider","Image","Typography","Statistic","Row","Col","store","delAdeverts","getAdvert","deleteAdvert","Layout","ConfirmationButton","DeleteOutlined","placeholder","Tags","formatter","Title","AdvertPage","Component","state","advert","error","getAdvertId","props","match","params","id","handleDeleteClick","history","then","push","result","message","setState","renderAdvert","name","price","tags","sale","photoUrl","marginTop","marginRight","title","content","okText","cancelText","okButtonProps","danger","componentDidMount","render","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport T from \"prop-types\";\nimport { Redirect } from \"react-router-dom\";\nimport { Divider, Image, Typography, Statistic, Row, Col } from \"antd\";\nimport { store, delAdeverts } from \"../../../store\";\nimport { getAdvert, deleteAdvert } from \"../../../api/adverts\";\nimport Layout from \"../../layout\";\nimport { ConfirmationButton } from \"../../shared\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport placeholder from \"../../../assets/photo-placeholder.png\";\nimport Tags from \"../Tags\";\nimport { formatter } from \"../../../utils/numbers\";\n\nconst { Title } = Typography;\n\nclass AdvertPage extends React.Component {\n  state = {\n    advert: null,\n    error: null,\n  };\n\n  getAdvertId = () => this.props.match.params.id;\n\n  handleDeleteClick = () => {\n    const { history } = this.props;\n    deleteAdvert(this.getAdvertId()).then(() => history.push(\"/\"));\n  };\n\n  getAdvert = async () => {\n    try {\n      const { result } = await getAdvert(this.getAdvertId());\n      if (!result) {\n        const error = { message: \"Not found\" };\n        throw error;\n      }\n      this.setState({ advert: result });\n    } catch (error) {\n      this.setState({ error });\n    }\n  };\n\n  renderAdvert = () => {\n    const { advert, error } = this.state;\n\n    if (error) {\n      return <Redirect to=\"/404\" />;\n    }\n\n    if (!advert) {\n      return null;\n    }\n\n    const { name, price, tags, sale, photoUrl } = advert;\n\n    return (\n      <Row>\n        <Col span={24}>\n          <Title level={2}>\n            {name} - {sale ? \"Sell\" : \"Buy\"}\n          </Title>\n        </Col>\n        <Col span={12}>\n          <Statistic title=\"Price\" value={price} formatter={formatter} />\n          <div style={{ marginTop: 20 }}>\n            <span style={{ marginRight: 5 }}>Tags</span>\n            <Tags tags={tags} />\n          </div>\n        </Col>\n        <Col span={12}>\n          <Image\n            src={photoUrl}\n            alt={name}\n            width={300}\n            height={300}\n            fallback={placeholder}\n          />\n        </Col>\n        <ConfirmationButton\n          danger\n          icon={<DeleteOutlined />}\n          confirmationProps={{\n            title: \"Delete advert?\",\n            content: \"Are you sure you want to delete this advert?\",\n            okText: \"Yes\",\n            cancelText: \"No\",\n            okButtonProps: {\n              danger: true,\n            },\n          }}\n          onConfirm={this.handleDeleteClick}\n          style={{ marginTop: 20 }}\n          block\n        >\n          Delete\n        </ConfirmationButton>\n      </Row>\n    );\n  };\n\n  componentDidMount() {\n    this.getAdvert();\n  }\n\n  render() {\n    return (\n      <Layout title=\"Advert detail\">\n        <Divider>Detail of your advert</Divider>\n        {this.renderAdvert()}\n      </Layout>\n    );\n  }\n}\n\nAdvertPage.propTypes = {\n  match: T.shape({ params: T.shape({ id: T.string.isRequired }).isRequired })\n    .isRequired,\n};\n\nexport default AdvertPage;\n"]},"metadata":{},"sourceType":"module"}